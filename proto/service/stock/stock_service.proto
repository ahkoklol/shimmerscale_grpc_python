syntax = "proto3";

package service.stock.stock_service;

// gRPC Service definition
service StockService {
  rpc GetStockInfo(StockRequest) returns (StockResponse);
  rpc GetEps(EpsRequest) returns (EpsResponse);
}

message StockRequest {
  string ticker = 1; // ticker symbol
}

message StockResponse {
  string ticker = 1; // ticker symbol
  string name = 2; // name
  string year = 3; // year of analysis
  optional double current_price = 4; // current price
  double total_revenue = 5; // total revenue
  double operating_income = 6; // income from operations
  double net_income = 7; // net income
  optional double ebitda = 8; // earnings before interest, taxes, depreciation and amortization
  optional double eps = 9; // earnings per share
  optional double basic_average_shares = 10; // number of shares
  optional double total_expenses = 11; // total expenses
}

message EpsRequest {
  string ticker = 1; // ticker symbol
  string type = 2; // annual or quarterly
}

message EpsResponse {
  repeated Eps eps = 1; // earnings per share
  string type = 2; // annual or quarterly
}

message Eps {
  double value = 1;
  string date = 2;
}
